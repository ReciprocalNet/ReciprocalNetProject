<HTML>
<HEAD>
<TITLE>Backing up an existing Reciprocal Net site</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META NAME="GENERATOR" CONTENT="Solutionsoft WordToWeb">
</HEAD>

<BODY BGCOLOR="#FFFFFF">
<P><CENTER>
<a href="toc.html">TOC</a>&nbsp;|&nbsp;<a href="userguidep7.html">Previous</a>&nbsp;|&nbsp;<a href="userguidep9.html">Next</a>&nbsp;|&nbsp;<a href="http://www.reciprocalnet.org/networkinfo/docs/">Documentation Home</a></CENTER><P>

<A NAME="topofpage"></A>
<P><HR SIZE=2 ALIGN=CENTER WIDTH="100%"></P>
<h2><B><FONT SIZE=+2><FONT COLOR="DDB8FE"><FONT FACE="Arial"><A NAME="T1"><a
name="_Toc187857388">Backing up an existing Reciprocal Net site</a></span></span></A></FONT></FONT></FONT></B></h2>


</div>

<div >

<p class=Existingsitesonly ><v:shape
 id="_x0000_s1051" type="#_x0000_t202" fillcolor="#f90" stroked="f">
 <v:textbox inset="0,2.16pt,0,2.16pt"/>
 <w:wrap anchorx="margin"/>
</v:shape>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=72 height=52 bgcolor="#FF9900" >
  <table cellpadding=0 cellspacing=0 width="100%">
   <tr>
    <td>
    <div v:shape="_x0000_s1051" 
    class=shape>
    <p class=MsoNormal align=center ><b >EXISTING SITES ONLY</b></p>
    </div>
    </td>
   </tr>
  </table>
   </td>
 </tr>
</table>

This section
applies only to existing Reciprocal Net sites that are upgrading to site
software 0.9.0.  It is assumed that these
sites plan to upgrade their operating systems, and optionally also their
computer hardware, as part of the same process.</p>

<p class=Existingsitesonly >These instructions assume that a “forklift” upgrade is underway; that
is, that you intend to back up the data from your <I>old</I>
Reciprocal Net site running site software 0.6.2, carry that data to a <I>new</I>
system, and then restore the existing data to the <I>new</I>
system running site software 0.9.0.  The
“new” system may be new computer hardware with a new operating system, or it
may be the same computer hardware with a freshly-formatted hard disk drive and
a freshly-installed operating system.  An
upgrade-in-place of operating system, without an intervening hard disk format,
is not recommended.</p>

<p class=Existingsitesonly >For your convenience, Reciprocal Net has created a backup utility to
assist you in preserving the data on your old system.  It is available on the Internet but
unfortunately did not ship with site software 0.6.2.  Go to your old system, log in as <B><I>root</B></I>, and go to
a command line.  Then type the following
command (all on one line):</p>

</div>

<p class=MsoNormal>
<TABLE WIDTH="100%" BGCOLOR="C0C0C0" BORDER=0 CELLPADDING=5><TR><TD>
<blockquote><code>wget
–O- www.reciprocalnet.org/download/utils/recipnet-backup | sh
</TD></TR></TABLE>
</code></blockquote></p>

<div >

<p class=Existingsitesonly >.  The backup program is
downloaded from Reciprocal Net’s web site and executed immediately.  (Experienced system administrators may prefer
to download the script and examine its contents before running it, and should
feel free to do so.)  As the program
runs, the <B><I>recipnetd</B></I>
daemon and the <B><I>mysqld</B></I>
daemon are halted.  The computer may
trundle for a few minutes or perhaps an hour, and eventually an archive file is
created in the <B><I>/root/</B></I>
directory of the file system.</p>

<p class=Existingsitesonly >Navigate to the <B><I>/root/</B></I>
directory and find the archive file.  It
should have a name of the form <B><I>recipnet-backup-2008-01-08.tar.gz</B></I>
, depending on the current date.  Copy
this file to a safe place on some removable media or on some other computer
system.  Copy it to several places if
possible.  This archive file contains all
the data and metadata for your Reciprocal Net site.  You do not want to lose it by mistake.</p>

<p class=Existingsitesonly >At this point the <B><I>recipnetd</B></I>
daemon on your old system is halted.  It
must remain this way.  All of your site’s
information about the state of the Reciprocal Net Site Network is stored inside
the archive file.  You will transfer that
network state to the new system and then bring the new system online.  Any deviation from this sequence of events
would confuse other Reciprocal Net member servers and would risk destabilizing
the whole Reciprocal Net Site Network.</p>

<p class=Existingsitesonly >With your archive file now stored in a safe place, continue with these
instructions to prepare your new system to act as a Reciprocal Net site.</p>

</div>

<div >


<!--W2WBODYEND-->

<P><HR ALIGN=center SIZE=2 WIDTH="100%">
<P><CENTER>
<a href="toc.html">TOC</a>&nbsp;|&nbsp;<a href="userguidep7.html">Previous</a>&nbsp;|&nbsp;<a href="userguidep9.html">Next</a>&nbsp;|&nbsp;<a href="http://www.reciprocalnet.org/networkinfo/docs/">Documentation Home</a></CENTER><P>

</BODY>
</HTML>
